import { transformTsCode } from "../src/transformer";

// 测试转换器核心功能
describe("transformTsCode", () => {
  const testTsCode = `
    const add = (a: number, b: number): number => {
      return a + b;
    };
  `;
  const testFileName = "test.ts";

  it("应该正确将TypeScript代码转译为JavaScript（移除类型注解）", () => {
    const result = transformTsCode(testFileName, testTsCode);
    
    // 验证类型注解被移除
    expect(result.code).not.toContain(": number");
    // 验证函数逻辑保留
    expect(result.code).toContain("const add = (a, b) => {");
    expect(result.code).toContain("return a + b;");
  });
});
